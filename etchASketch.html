<!DOCTYPE html>
<link rel="stylesheet" type="text/css" href="style.css">

<div id="game">
    <button id="startAgain">Start Again</button>
    <div id="container">
    </div>
</div>

<script>


    function makeRows(rows, cols) {
        if(!document.getElementById('ce1')){
        const container = document.getElementById("container");
        container.style.setProperty('--grid-rows', rows);
        container.style.setProperty('--grid-cols', cols);
        for (var i = 0; i < (rows * cols); i++) {
            var cell = document.createElement("div");
            cell.id = ("ce" + (i + 1));
            cell.backgroundColor ="--allPercent";
            cell.innerText = i + 1;
            container.appendChild(cell).className = "cell";
        }  
    }
    else{
        console.log('already a board.');
    }
        cellHover();
        gameButton();
    }
    makeRows(9, 9);

    function removeContainer() {
        var div = document.getElementById('container');
        while (div.firstChild) {
            div.removeChild(div.firstChild);
        }
    }

        function cellHover() {
            const cells = document.querySelectorAll('div.cell');
            cells.forEach((ce) => {
                ce.addEventListener('mouseover', () => {
                    var myCell = document.getElementById(ce.id)
                    myCell.style.backgroundColor="black";
                    myCell.style.borderColor="black";
                });
            });
        }

        function gameButton(){
            const buttons=document.getElementById('startAgain');
            buttons.addEventListener('click', function(){
                removeContainer();
                const size = prompt("How big should the board be?");
                if(size < 100){
                makeRows(size,size);
                }
                else{
                    alert("Please enter a number less than 100.");
                    return;
            }
            });
        }

</script>

</html>